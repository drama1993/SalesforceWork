global class NonPardotBatchable implements Database.Batchable<sObject>{
    
    global Database.QueryLocator start(Database.BatchableContext BC){
        //Collect the batches of records or objects to be passed to execute
        
        String query = 'Select ID, AccountId,EndDateTime from event where AccountID !=null And EndDateTime = Today';
       return Database.getQueryLocator(query);
    }
    global void execute(Database.BatchableContext BC, List<Event> eventList){
        List<ID> IDsToUpdate = new List<ID>();
        
        //processing batch records - default is 200
        for(Event event: eventList){
            IDsToUpdate.add(event.AccountId);
        }
        // info here- https://www.sfdcpoint.com/salesforce/batch-apex-example-in-salesforce/
        
        if(!IDsToUpdate.isEmpty()){
            
        	List<Account> accountsToUpdate = [Select ID,Last_Activity_Date_non_Pardot__c from account where ID IN:IDsToUpdate];
            
            for(account acc: accountsToUpdate){
                acc.Last_Activity_Date_non_Pardot__c = Date.today();
            }
            try{
                update accountsToUpdate;
                } catch(Exception e) 
                {System.debug(e);
                }
         }
        
    }
    
        global void finish(Database.BatchableContext BC) {
        // execute any post-processing operations like sending email
    }
}
    
